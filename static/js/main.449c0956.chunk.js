(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s}));var a=n(9),c=n.n(a);c.a.defaults.baseURL="https://api.themoviedb.org";var r=function(){return c.a.get("/3/trending/movie/week?api_key=099506e957cfaf2ff63b90257184931e")},i=function(e){return c.a.get("3/search/movie?api_key=099506e957cfaf2ff63b90257184931e&language=en-US&page=1&include_adult=false&query=".concat(e))},o=function(e){return c.a.get("/3/movie/".concat(e,"&language=en-US?api_key=099506e957cfaf2ff63b90257184931e"))},u=function(e){return c.a.get("/3/movie/".concat(e,"/credits?api_key=099506e957cfaf2ff63b90257184931e"))},s=function(e){return c.a.get("/3/movie/".concat(e,"/reviews?api_key=099506e957cfaf2ff63b90257184931e"))}},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r}));var a=function(e){return e.data.results},c=function(e){return e.map((function(e){return e.name})).join(" ")},r=function(e){return e.data.cast}},24:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(7),i=n(1);t.a=Object(i.g)((function(e){var t=e.filmList,n=e.location;return c.a.createElement("ol",{className:"filmList"},t.map((function(e){return c.a.createElement("li",{key:e.id,className:"filmList-item"},c.a.createElement(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n.pathname,fromSearch:n.search}}},e.title))})))}))},36:function(e,t,n){e.exports=n(76)},41:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(34),i=n.n(r),o=n(7),u=n(1),s=(n(41),n(18)),l=n(19),m=n(21),f=n(20),h=n(13),p=n.n(h),v=function(e){var t=e.value,n=e.onInputChange,a=e.onSearchMovies;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"movies-search"},c.a.createElement("input",{className:"movies-searchInput",type:"text",value:t,onChange:n,placeholder:"type Avatar"}),c.a.createElement("button",{onClick:a},"Search")))},d=n(24),b=n(11),g=n(12),E=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchInput:"",filmList:null},e.setSearchInput=function(t){e.setState({searchInput:t.target.value})},e.onSearchMovies=function(){Object(b.e)(e.state.searchInput).then((function(e){return Object(g.b)(e)})).then((function(t){var n=e.props.history.push({pathname:e.props.location.pathname,search:"query=".concat(e.state.searchInput)});e.setState({filmList:t,searchInput:""},n)})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=p.a.parse(this.props.location.search).query;t&&Object(b.e)(t).then((function(e){return Object(g.b)(e)})).then((function(t){return e.setState({filmList:t})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=p.a.parse(this.props.location.search);if(p.a.parse(e.location.search).query!==n.query){if(void 0===n.query)return void this.setState({filmList:null});Object(b.e)(n.query).then((function(e){return Object(g.b)(e)})).then((function(e){return t.setState({filmList:e})})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{value:this.state.searchInput,onInputChange:this.setSearchInput,onSearchMovies:this.onSearchMovies}),null!==this.state.filmList&&c.a.createElement(d.a,{filmList:this.state.filmList}))}}]),n}(a.Component),y=function(){return c.a.createElement("div",{className:"header"},c.a.createElement("nav",null,c.a.createElement("ul",{className:"navMenu"},c.a.createElement("li",{className:"navMenu-item"},c.a.createElement(o.c,{exact:!0,to:"/",className:"pageLink",activeClassName:"active-pageLink"},"Home")),c.a.createElement("li",{className:"navMenu-item"},c.a.createElement(o.c,{exact:!0,to:"/movies",className:"pageLink",activeClassName:"active-pageLink"},"Movies")))))},k=Object(a.lazy)((function(){return n.e(1).then(n.bind(null,77))})),L=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,78))}));var S=function(){return c.a.createElement("div",{className:"container"},c.a.createElement(y,null),c.a.createElement(a.Suspense,{fallback:c.a.createElement("p",null,"Loading...")},c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/",component:k}),c.a.createElement(u.b,{path:"/movies/:id",component:L}),c.a.createElement(u.b,{path:"/movies",component:E}),c.a.createElement(u.a,{to:"/"}))))};i.a.render(c.a.createElement(o.a,null,c.a.createElement(S,null)),document.getElementById("root"))}},[[36,5,6]]]);
//# sourceMappingURL=main.449c0956.chunk.js.map