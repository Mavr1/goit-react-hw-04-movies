{"version":3,"sources":["services/apiServices.js","services/helpers.js","components/filmList/FilmList.js","components/search/Search.js","pages/MoviesPage.js","components/header/Header.js","App.js","index.js"],"names":["axios","defaults","baseURL","getMostPopular","get","searchMovie","query","getMovie","id","getMovieCast","getMovieReviews","formatFilmListArray","data","results","formatGenresArray","map","name","join","formatCastArray","cast","FilmList","filmList","location","className","item","key","to","pathname","state","from","title","Search","value","onInputChange","onSearchMovies","type","onChange","placeholder","onClick","MoviesPage","searchInput","setSearchInput","e","setState","target","then","setUrl","props","history","push","search","catch","error","console","log","queryString","parse","this","prevProps","nextQuery","undefined","Component","Header","exact","activeClassName","HomePage","lazy","MovieDetailsPage","App","fallback","path","component","ReactDOM","render","document","getElementById"],"mappings":"yIAAA,8LAEAA,IAAMC,SAASC,QAAU,6BAElB,IAAMC,EAAiB,kBAC5BH,IAAMI,IAAI,oEAECC,EAAc,SAACC,GAAD,OACzBN,IAAMI,IAAN,kHAC6GE,KAGlGC,EAAW,SAACC,GAAD,OACtBR,IAAMI,IAAN,mBACcI,EADd,8DAIWC,EAAe,SAACD,GAAD,OAC1BR,IAAMI,IAAN,mBAAsBI,EAAtB,uDAEWE,EAAkB,SAACF,GAAD,OAC7BR,IAAMI,IAAN,mBAAsBI,EAAtB,wD,gCCrBF,sGAAO,IAAMG,EAAsB,SAACC,GAAD,OAAUA,EAAKA,KAAKC,SAE1CC,EAAoB,SAACF,GAAD,OAC/BA,EAAKG,KAAI,SAACH,GAAD,OAAUA,EAAKI,QAAMC,KAAK,MAExBC,EAAkB,SAACN,GAAD,OAAUA,EAAKA,KAAKO,O,gCCLnD,2BAoBeC,IAjBE,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,EAAaC,SAAb,OACf,wBAAIC,UAAU,YACXF,EAASN,KAAI,SAACS,GAAD,OACZ,wBAAIC,IAAKD,EAAKhB,GAAIe,UAAU,iBAC1B,kBAAC,IAAD,CACEG,GAAI,CACFC,SAAS,WAAD,OAAaH,EAAKhB,IAC1BoB,MAAO,CAAEC,MAAM,KAGhBL,EAAKM,c,4MCMDC,EAjBA,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,MAAOC,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,eACtC,OACE,oCACE,yBAAKX,UAAU,iBACb,2BACEA,UAAU,qBACVY,KAAK,OACLH,MAAOA,EACPI,SAAUH,EACVI,YAAY,gBAEd,4BAAQC,QAASJ,GAAjB,a,wBCuDOK,E,4MA5DbX,MAAQ,CAAEY,YAAa,GAAInB,SAAU,M,EA2BrCoB,eAAiB,SAACC,GAChB,EAAKC,SAAS,CAAEH,YAAaE,EAAEE,OAAOZ,S,EAGxCE,eAAiB,WACf7B,YAAY,EAAKuB,MAAMY,aACpBK,MAAK,SAACjC,GAAD,OAAUD,YAAoBC,MACnCiC,MAAK,SAACjC,GACL,IAAMkC,EAAS,EAAKC,MAAMC,QAAQC,KAAK,CACrCtB,SAAU,EAAKoB,MAAMzB,SAASK,SAC9BuB,OAAO,SAAD,OAAW,EAAKtB,MAAMY,eAE9B,EAAKG,SAAS,CAAEtB,SAAUT,EAAM4B,YAAa,IAAMM,MAEpDK,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,O,kEAvCb,IAAD,OACV9C,EAAUiD,IAAYC,MAAMC,KAAKV,MAAMzB,SAAS4B,QAAhD5C,MACRA,GACED,YAAYC,GACTuC,MAAK,SAACjC,GAAD,OAAUD,YAAoBC,MACnCiC,MAAK,SAACjC,GAAD,OAAU,EAAK+B,SAAS,CAAEtB,SAAUT,OACzCuC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,Q,yCAGjBM,GAAY,IAAD,OACtBC,EAAYJ,IAAYC,MAAMC,KAAKV,MAAMzB,SAAS4B,QAGxD,GAFkBK,IAAYC,MAAME,EAAUpC,SAAS4B,QAEzC5C,QAAUqD,EAAUrD,MAAO,CACvC,QAAwBsD,IAApBD,EAAUrD,MAEZ,YADAmD,KAAKd,SAAS,CAAEtB,SAAU,OAG5BhB,YAAYsD,EAAUrD,OACnBuC,MAAK,SAACjC,GAAD,OAAUD,YAAoBC,MACnCiC,MAAK,SAACjC,GAAD,OAAU,EAAK+B,SAAS,CAAEtB,SAAUT,OACzCuC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,S,+BAsBlC,OACE,oCACE,kBAAC,EAAD,CACEpB,MAAOyB,KAAK7B,MAAMY,YAClBP,cAAewB,KAAKhB,eACpBP,eAAgBuB,KAAKvB,iBAEE,OAAxBuB,KAAK7B,MAAMP,UACV,kBAACD,EAAA,EAAD,CAAUC,SAAUoC,KAAK7B,MAAMP,gB,GAtDhBwC,aCyBVC,EA7BA,kBACb,yBAAKvC,UAAU,UACb,6BACE,wBAAIA,UAAU,WACZ,wBAAIA,UAAU,gBACZ,kBAAC,IAAD,CACEwC,OAAK,EACLrC,GAAG,IACHH,UAAU,WACVyC,gBAAgB,mBAJlB,SASF,wBAAIzC,UAAU,gBACZ,kBAAC,IAAD,CACEwC,OAAK,EACLrC,GAAG,UACHH,UAAU,WACVyC,gBAAgB,mBAJlB,eCZJC,EAAWC,gBAAK,kBACpB,gCAEIC,EAAmBD,gBAAK,kBAC5B,gCAmBaE,MAhBf,WACE,OACE,yBAAK7C,UAAU,aACb,kBAAC,EAAD,MACA,kBAAC,WAAD,CAAU8C,SAAU,0CAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAON,OAAK,EAACO,KAAK,IAAIC,UAAWN,IACjC,kBAAC,IAAD,CAAOK,KAAK,cAAcC,UAAWJ,IACrC,kBAAC,IAAD,CAAOG,KAAK,UAAUC,UAAWhC,IACjC,kBAAC,IAAD,CAAUb,GAAG,UCjBvB8C,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.f81bb2b6.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org';\r\n\r\nexport const getMostPopular = () =>\r\n  axios.get('/3/trending/movie/week?api_key=099506e957cfaf2ff63b90257184931e');\r\n\r\nexport const searchMovie = (query) =>\r\n  axios.get(\r\n    `3/search/movie?api_key=099506e957cfaf2ff63b90257184931e&language=en-US&page=1&include_adult=false&query=${query}`\r\n  );\r\n\r\nexport const getMovie = (id) =>\r\n  axios.get(\r\n    `/3/movie/${id}&language=en-US?api_key=099506e957cfaf2ff63b90257184931e`\r\n  );\r\n\r\nexport const getMovieCast = (id) =>\r\n  axios.get(`/3/movie/${id}/credits?api_key=099506e957cfaf2ff63b90257184931e`);\r\n\r\nexport const getMovieReviews = (id) =>\r\n  axios.get(`/3/movie/${id}/reviews?api_key=099506e957cfaf2ff63b90257184931e`);\r\n","export const formatFilmListArray = (data) => data.data.results;\r\n\r\nexport const formatGenresArray = (data) =>\r\n  data.map((data) => data.name).join(' ');\r\n\r\nexport const formatCastArray = (data) => data.data.cast;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst FilmList = ({ filmList, location }) => (\r\n  <ol className=\"filmList\">\r\n    {filmList.map((item) => (\r\n      <li key={item.id} className=\"filmList-item\">\r\n        <Link\r\n          to={{\r\n            pathname: `/movies/${item.id}`,\r\n            state: { from: true },\r\n          }}\r\n        >\r\n          {item.title}\r\n        </Link>\r\n      </li>\r\n    ))}\r\n  </ol>\r\n);\r\n\r\nexport default FilmList;\r\n","import React from 'react';\r\n\r\nconst Search = ({ value, onInputChange, onSearchMovies }) => {\r\n  return (\r\n    <>\r\n      <div className=\"movies-search\">\r\n        <input\r\n          className=\"movies-searchInput\"\r\n          type=\"text\"\r\n          value={value}\r\n          onChange={onInputChange}\r\n          placeholder=\"type Avatar\"\r\n        />\r\n        <button onClick={onSearchMovies}>Search</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { Component } from 'react';\r\nimport queryString from 'query-string';\r\nimport Search from '../components/search/Search';\r\nimport FilmList from '../components/filmList/FilmList';\r\nimport { searchMovie } from '../services/apiServices';\r\nimport { formatFilmListArray } from '../services/helpers';\r\n\r\nclass MoviesPage extends Component {\r\n  state = { searchInput: '', filmList: null };\r\n\r\n  componentDidMount() {\r\n    const { query } = queryString.parse(this.props.location.search);\r\n    query &&\r\n      searchMovie(query)\r\n        .then((data) => formatFilmListArray(data))\r\n        .then((data) => this.setState({ filmList: data }))\r\n        .catch((error) => console.log(error));\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const nextQuery = queryString.parse(this.props.location.search);\r\n    const prevQuery = queryString.parse(prevProps.location.search);\r\n\r\n    if (prevQuery.query !== nextQuery.query) {\r\n      if (nextQuery.query === undefined) {\r\n        this.setState({ filmList: null });\r\n        return;\r\n      }\r\n      searchMovie(nextQuery.query)\r\n        .then((data) => formatFilmListArray(data))\r\n        .then((data) => this.setState({ filmList: data }))\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }\r\n\r\n  setSearchInput = (e) => {\r\n    this.setState({ searchInput: e.target.value });\r\n  };\r\n\r\n  onSearchMovies = () => {\r\n    searchMovie(this.state.searchInput)\r\n      .then((data) => formatFilmListArray(data))\r\n      .then((data) => {\r\n        const setUrl = this.props.history.push({\r\n          pathname: this.props.location.pathname,\r\n          search: `query=${this.state.searchInput}`,\r\n        });\r\n        this.setState({ filmList: data, searchInput: '' }, setUrl);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Search\r\n          value={this.state.searchInput}\r\n          onInputChange={this.setSearchInput}\r\n          onSearchMovies={this.onSearchMovies}\r\n        />\r\n        {this.state.filmList !== null && (\r\n          <FilmList filmList={this.state.filmList} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = () => (\r\n  <div className=\"header\">\r\n    <nav>\r\n      <ul className=\"navMenu\">\r\n        <li className=\"navMenu-item\">\r\n          <NavLink\r\n            exact\r\n            to=\"/\"\r\n            className=\"pageLink\"\r\n            activeClassName=\"active-pageLink\"\r\n          >\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        <li className=\"navMenu-item\">\r\n          <NavLink\r\n            exact\r\n            to=\"/movies\"\r\n            className=\"pageLink\"\r\n            activeClassName=\"active-pageLink\"\r\n          >\r\n            Movies\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n","import React, { lazy, Suspense } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport './App.css';\r\nimport MoviesPage from './pages/MoviesPage';\r\nimport Header from './components/header/Header';\r\n\r\nconst HomePage = lazy(() =>\r\n  import('./pages/HomePage' /* webpackChunkName: \"HomePage\" */)\r\n);\r\nconst MovieDetailsPage = lazy(() =>\r\n  import('./pages/MovieDetailsPage' /* webpackChunkName: \"MovieDetailsPage\" */)\r\n);\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"container\">\r\n      <Header />\r\n      <Suspense fallback={<p>Loading...</p>}>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          <Route path=\"/movies/:id\" component={MovieDetailsPage} />\r\n          <Route path=\"/movies\" component={MoviesPage} />\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}